// options.imagesCount
function ws_photo(g,h,l){function m(a,c,b,d,h,l){a[0].wowParams||(a[0].wowParams={});if(d&&c){var f=80,e=50-f/2,k=50-f/2,m=0;c=5}else f=30,e=parseFloat(100*Math.random()+-10),k=parseFloat(100*Math.random()+-10),m=parseFloat(60*Math.random()+-30),c=d?c?5:b?3:2:c?3:b?4:2;b={top:a[0].wowParams.y||0,left:a[0].wowParams.x||0,width:a[0].wowParams.size||0,height:a[0].wowParams.size||0};d={top:k,left:e,width:f,height:f};if(g.support.transform)b={translate:[50-b.width/2-b.left+"%",50-b.width/2-b.top+"%",0],
rotate:a[0].wowParams.angle||0,scale:b.width/100},d={translate:[50-d.width/2-d.left,50-d.width/2-d.top,0],rotate:m||0,scale:d.width/100};else for(var n in b)b[n]+="%";wowAnimate(a.css({position:"absolute",zIndex:c}),b,d,h,"swing",l||0);a[0].wowParams={size:f,x:e,y:k,angle:m,zIndex:c}}function n(){if(g.support.transform){var a=c(h[0]),a={width:a.width(),height:a.height(),marginTop:parseFloat(a.css("marginTop")),marginLeft:parseFloat(a.css("marginLeft"))};c(f).find("img").css(a)}else c(f).find("img").css({width:"100%"})}
var c=jQuery,r=c(this),v=c(".ws_list",l),p=/iPhone|iPod|iPad|Android|BlackBerry/.test(navigator.userAgent),k=g.imagesCount||30,q=[];l=c("<div>").addClass("ws_effect ws_photo").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",backgroundColor:"#DDDDDD"}).appendTo(l);if(!p)var t=c("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",zIndex:4}).appendTo(l);for(var u=Math.max(k,h.length),e=k=0;k<u;k++)e>=h.length&&
(e-=h.length),c("<div>").addClass("ws_photoItem").css({width:"100%",height:"100%",overflow:"hidden"}).append(c("<div>").css({overflow:"hidden",position:"absolute"}).append(c(h[e]).clone())).appendTo(l),g.images&&k<h.length&&q.push(!g.images[e].noimage),e++;var f=l.children(".ws_photoItem");f.each(function(a){m(c(this),g.startSlide==a,!1,!0,0)});n();c(window).on("load resize",n);this.go=function(a,e){n();if(g.images&&!q[a]){q[a]=!0;for(var b=a;;){c(f[b]).find("img").attr("src",g.images[b%h.length].src);
if(b>u)break;b+=h.length}}if(window.XMLHttpRequest){var d=.5*g.duration;f.each(function(b){m(c(this),a==b,e==b,!1,d)});p||wowAnimate(t,{opacity:1},{opacity:0},.7*d,"swing");setTimeout(function(){f.each(function(b){m(c(this),a==b,e==b,!0,d,e==b?function(){r.trigger("effectEnd")}:0)});p||wowAnimate(t,{opacity:0},{opacity:1},.7*d,"swing")},d)}else v.stop(!0).animate({left:a?-a+"00%":/Safari/.test(navigator.userAgent)?"0%":0},g.duration,"easeInOutExpo",function(){r.trigger("effectEnd")})}};
